# 图片检查工具

这是一个图形界面工具，用于检查和修改图片文件名。工具提供了直观的界面来对比原始图片和正确图片，并可以修改文件名格式。

## 功能特点

### 1. **双图片对比显示**
- 左侧显示待检查的原始图片
- 右侧显示对应的正确图片（从generated_images文件夹中查找）

### 2. **智能文件名解析**
- 自动解析图片文件名中的编号和字母串
- 支持多种文件名格式：
  - `12_0_106_x_y_donjiha.png`
  - `0_106_1_1_mergen.png`

### 3. **便捷的文件名修改**
- 自动填充当前文件名中的信息到输入框
- 可以修改"正确与否"、"列号"、"行号"等参数
- 实时预览修改后的文件名格式

### 4. **批量处理功能**
- 支持逐张图片处理
- 显示处理进度
- 自动跳转到下一张图片

## 界面说明

### 主要区域
1. **页面选择**: 下拉框选择要处理的page文件夹
2. **图片显示区域**: 
   - 左侧：待检查图片
   - 右侧：正确图片（如果存在）
3. **控制面板**:
   - 正确与否：输入正确性标识
   - 列号：输入列号
   - 行号：输入行号（可选）
   - 确认按钮：保存修改后的文件
   - 移除按钮：跳过当前图片

### 状态信息
- 当前处理的文件名
- 处理进度（当前/总数）
- 操作结果提示

## 使用方法

### 1. 安装依赖
```bash
pip install -r requirements.txt
```

### 2. 运行工具
```bash
python image_checker.py
```

### 3. 操作步骤
1. 从下拉框选择要处理的页面（如page_106）
2. 工具会自动加载该页面的所有PNG图片
3. 左侧显示当前待处理的图片
4. 右侧显示对应的正确图片（如果存在）
5. 输入框会自动填充当前文件名的信息
6. 根据需要修改"正确与否"、"列号"、"行号"
7. 点击"确认"保存修改后的文件，或点击"移除"跳过
8. 工具会自动跳转到下一张图片

## 文件处理规则

### 输入文件名格式
- `12_0_106_x_y_donjiha.png` → 编号: 12, 字母: donjiha
- `0_106_1_1_mergen.png` → 编号: 0, 字母: mergen

### 输出文件名格式
- 如果填写了行号：`{正确与否}_{列号}_{行号}_{字母}.png`
- 如果没有行号：`{正确与否}_{列号}_x_y_{字母}.png`

### 示例
- 输入：`12_0_106_x_y_donjiha.png`
- 修改：正确与否=1, 列号=2, 行号=3
- 输出：`1_2_3_donjiha.png`

### 编号补0说明
- 生成的正确图片文件名中，编号会自动补0（如：01_mergen.png, 02_donjiha.png）
- 工具会自动处理补0后的文件名进行匹配

## 输出文件夹

处理后的文件会保存在 `{目标文件夹}/processed_{页面名}/` 文件夹中，例如：
- `processed_page_106/`
- `processed_page_107/`

## 配置说明

### 目标文件夹配置
工具默认使用 `22012765-张轲其` 作为目标文件夹。如需修改，可以在代码中更改：

```python
# 在 ImageCheckerApp 类的 __init__ 方法中修改
self.target_folder = "你的文件夹名称"
```

或者在运行时动态设置：
```python
app = ImageCheckerApp(root)
app.set_target_folder("你的文件夹名称")
```

## 注意事项

1. **文件结构要求**：
   - 原始图片在 `{目标文件夹}/page_xxx/` 文件夹中
   - 正确图片在 `{目标文件夹}/generated_images/page_xxx/` 文件夹中

2. **文件名格式**：
   - 工具会自动解析常见的文件名格式
   - 如果无法解析，会显示错误提示

3. **图片显示**：
   - 图片会自动缩放以适应显示区域
   - 如果正确图片不存在，右侧会显示提示信息

4. **操作建议**：
   - 建议先运行 `generate_correct.py` 生成正确图片
   - 然后使用此工具进行批量检查和修改

## 快捷键

- `Enter` 键：确认当前操作（等同于点击"确认"按钮）
- `Space` 键：跳过当前图片（等同于点击"移除"按钮）

## 错误处理

- 如果目标文件夹不存在，会显示错误提示
- 如果图片加载失败，会显示错误信息
- 如果文件名无法解析，会提示用户手动处理
- 所有操作都有相应的成功/失败提示 